<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | reb1orn</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="reb1orn的前端日记">
    
    <link rel="preload" href="/assets/css/0.styles.c8e23b86.css" as="style"><link rel="preload" href="/assets/js/app.2720869f.js" as="script"><link rel="preload" href="/assets/js/2.3de34db3.js" as="script"><link rel="preload" href="/assets/js/8.1a2b92c2.js" as="script"><link rel="prefetch" href="/assets/js/10.f959e45c.js"><link rel="prefetch" href="/assets/js/11.a9b9c817.js"><link rel="prefetch" href="/assets/js/12.a0f1527b.js"><link rel="prefetch" href="/assets/js/13.04371baf.js"><link rel="prefetch" href="/assets/js/14.6aba77b8.js"><link rel="prefetch" href="/assets/js/15.71a2da8f.js"><link rel="prefetch" href="/assets/js/3.2c99a915.js"><link rel="prefetch" href="/assets/js/4.bc71b139.js"><link rel="prefetch" href="/assets/js/5.722902a6.js"><link rel="prefetch" href="/assets/js/6.498ab014.js"><link rel="prefetch" href="/assets/js/7.3822cadf.js"><link rel="prefetch" href="/assets/js/9.70ac334b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c8e23b86.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/nav.jpeg" alt="reb1orn" class="logo"> <span class="site-name can-hide">reb1orn</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JavaScript/memory.html" class="nav-link">
  垃圾回收
</a></li><li class="dropdown-item"><!----> <a href="/pages/JavaScript/eventLoop.html" class="nav-link">
  事件循环
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/react/Hooks.html" class="nav-link">
  Hooks
</a></li><li class="dropdown-item"><!----> <a href="/pages/react/redux.html" class="nav-link">
  Redux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/vue/vite.html" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/pages/vue/vue3.html" class="nav-link">
  vue3.0
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTTP" class="dropdown-title"><span class="title">HTTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTTP" class="mobile-dropdown-title"><span class="title">HTTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/HTTP/http.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/pages/HTTP/https.html" class="nav-link">
  HTTPS
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/reb1orn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JavaScript/memory.html" class="nav-link">
  垃圾回收
</a></li><li class="dropdown-item"><!----> <a href="/pages/JavaScript/eventLoop.html" class="nav-link">
  事件循环
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/react/Hooks.html" class="nav-link">
  Hooks
</a></li><li class="dropdown-item"><!----> <a href="/pages/react/redux.html" class="nav-link">
  Redux
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/vue/vite.html" class="nav-link">
  Vite
</a></li><li class="dropdown-item"><!----> <a href="/pages/vue/vue3.html" class="nav-link">
  vue3.0
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="HTTP" class="dropdown-title"><span class="title">HTTP</span> <span class="arrow down"></span></button> <button type="button" aria-label="HTTP" class="mobile-dropdown-title"><span class="title">HTTP</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/HTTP/http.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/pages/HTTP/https.html" class="nav-link">
  HTTPS
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/reb1orn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>HTTP</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/HTTP/http.html" aria-current="page" class="active sidebar-link">HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/HTTP/http.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/pages/HTTP/http.html#基本性质" class="sidebar-link">基本性质</a></li><li class="sidebar-sub-header"><a href="/pages/HTTP/http.html#缓存" class="sidebar-link">缓存</a></li><li class="sidebar-sub-header"><a href="/pages/HTTP/http.html#cookies" class="sidebar-link">Cookies</a></li><li class="sidebar-sub-header"><a href="/pages/HTTP/http.html#跨源资源共享-cors" class="sidebar-link">跨源资源共享（CORS）</a></li><li class="sidebar-sub-header"><a href="/pages/HTTP/http.html#headers" class="sidebar-link">Headers</a></li></ul></li><li><a href="/pages/HTTP/https.html" class="sidebar-link">HTTPS</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h1> <h2 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h2> <p><strong>HTTP是一种能够获取如HTML这样的网络资源的protocol(通讯协议)。它是在Web上进行数据交换的基础，是一种client-server协议，也就是说，请求通常是由像浏览器这样的接受方发起的。一个完整的Web文档通常是由不同的子文档拼接而成的，像是文本，布局描述，图片，视频，脚本等等。</strong></p> <p>客户端和服务端通过交换各自的消息（与数据流正好相反）进行交互。由像浏览器这样的客户端发出的消息叫做<strong>requests</strong>，被服务端响应的消息叫做<strong>responses</strong>。</p> <h2 id="基本性质"><a href="#基本性质" class="header-anchor">#</a> 基本性质</h2> <ol><li>HTTP是简单的，大体上被设计得简单易读；</li> <li>HTTP是可扩展的，可以通过扩展请求头（headers）来扩展新功能；</li> <li>HTTP是无状态的，有会话的，http本质上是无状态的，使用cookies可以创建有状态的会话；</li> <li>HTTP能控制以下特性：
<ul><li>缓存</li> <li>开放同源限制</li> <li>认证，头信息或者cookies设置指定会话</li> <li>代理和隧道</li> <li>会话</li></ul></li></ol> <h2 id="缓存"><a href="#缓存" class="header-anchor">#</a> 缓存</h2> <p>通过复用以前获取的资源，可以显著提高网站和应用程序的性能。web缓存减少了等待时间和网络流量，因此减少了显示资源表示形式所需的时间。通过使用HTTP缓存，变得更加响应性。</p> <p>缓存大致分为两类：<strong>私有与共享缓存</strong>，共享缓存存储的响应能被多个用户使用，私有缓存只能用于单独用户。</p> <ol><li><p>（私有）浏览器缓存<br>
只能用于单独用户，浏览器设置中的缓存选项就是此作用，浏览器缓存拥有用户通过HTTP下载的所有文档。这些缓存为浏览过的文档提供向前/后导航，保存网页，查看源码等功能，可以避免再次向服务器发起多余请求。同样可以提供缓存内容的离线浏览。</p></li> <li><p>（共享）代理缓存<br>
共享缓存可以被多个用户使用。web代理为本地网络基础的一部分提供给用户。</p></li></ol> <h3 id="缓存操作的目标"><a href="#缓存操作的目标" class="header-anchor">#</a> 缓存操作的目标</h3> <p>虽然缓存不是必须的，但是重用缓存的资源通常是必要的。然而常见的HTTP缓存只能存储<strong>GET</strong>响应，对于其他类型的响应则无能为力。缓存的关键只要包括<strong>request method</strong>和<strong>目标URL</strong>（一般只有GET请求才会被缓存）</p> <h3 id="缓存控制"><a href="#缓存控制" class="header-anchor">#</a> 缓存控制</h3> <h4 id="cache-control-头"><a href="#cache-control-头" class="header-anchor">#</a> Cache-control 头</h4> <ol><li>没有缓存：Cache-Control：no-store</li> <li>缓存但重新验证：Cache-Control：no-cache</li> <li>私有和公共缓存：Cache-Control：private/Cache-Control：public</li> <li>过期：Cache-Control：max-age=seconds // 能缓存的最大时间</li></ol> <h4 id="新鲜度-如何判断缓存是否是最新的-如何清除缓存-新版本发布-用户浏览器的缓存如何更新"><a href="#新鲜度-如何判断缓存是否是最新的-如何清除缓存-新版本发布-用户浏览器的缓存如何更新" class="header-anchor">#</a> 新鲜度（如何判断缓存是否是最新的，如何清除缓存，新版本发布，用户浏览器的缓存如何更新）</h4> <ol><li>缓存会定期清除，这个过程叫做缓存驱逐</li> <li>当客户端发起一个请求，缓存检索到一个旧资源，会将此请求附加一个If-None-Match头，以此来判断缓存是否是最新的，若服务器返回304则是最新的，否则该请求带回新的资源实体内容返回。</li></ol> <h2 id="cookies"><a href="#cookies" class="header-anchor">#</a> Cookies</h2> <p>是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发送请求时被携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器，如保持用户登录状态。主要用于以下三个方面：</p> <ol><li>会话状态管理（登录状态，购物车，游戏分数等需要记录的信息）；</li> <li>个性化设置（用户自定义设置，主题等）；</li> <li>浏览器行为跟踪（跟踪分析用户行为等）</li></ol> <h3 id="创建cookie"><a href="#创建cookie" class="header-anchor">#</a> 创建Cookie</h3> <p>当服务器收到HTTP请求时，服务器可以在响应头里面添加一个Set-Cookie选项，浏览器收到后通常会保存下Cookie，之后对于该服务器的每一次请求都通过Cookie请求头部将Cookie信息发送给服务器。</p> <h2 id="跨源资源共享-cors"><a href="#跨源资源共享-cors" class="header-anchor">#</a> 跨源资源共享（CORS）</h2> <p>是一种基于HTTP头的机制，该机制通过允许服务器标示除了它自己以外的其他origin（域，协议和端口），这样浏览器可以访问加载这些资源。跨源资源共享还通过一种机制来检查服务器是否会允许要发送的真实请求，该机制通过浏览器发起的一个到服务器托管的跨源资源的‘预检’请求。在预检中，浏览器发送的头中标示有HTTP方法和真实请求中会用到的头。</p> <h3 id="若干访问控制场景"><a href="#若干访问控制场景" class="header-anchor">#</a> 若干访问控制场景</h3> <ol><li>简单请求</li> <li>预检请求</li> <li>附带身份凭证的请求</li></ol> <h3 id="http响应首部字段"><a href="#http响应首部字段" class="header-anchor">#</a> HTTP响应首部字段</h3> <ol><li><p>Access-Control-Allow-Origin：origin/*</p> <p>允许哪些域的请求，*表示允许所有域</p></li> <li><p>Access-Control-Expose-Headers：x-my-custom-Header</p> <p>设置浏览器允许通过特定API访问这些响应头</p></li> <li><p>Access-Control-Max-Age:seconds</p> <p>指定preflight请求的结果能被缓存多久</p></li> <li><p>Access-Control-Allow-Credentials:true</p> <p>指定当浏览器设置为true时，是否允许浏览器读取response的内容</p></li> <li><p>Access-Control-Allow-Method：POST</p> <p>用于预检请求的响应，指明了实际请求所允许使用的请求方法</p></li> <li><p>Access-Control-Allow-Headers：字段名</p> <p>用于预检请求的响应，指明了实际请求中允许携带的头部字段</p></li></ol> <h3 id="http请求首部字段"><a href="#http请求首部字段" class="header-anchor">#</a> HTTP请求首部字段</h3> <ol><li><p>Origin：域名</p> <p>表明预检或者实际请求中的源站URL，只是服务器名称</p></li> <li><p>Access-Control-Request-Method：HTTP方法</p> <p>用于预检请求，将实际请求所使用的http方法告诉服务器</p></li> <li><p>Access-Control-Request-Headers：字段名</p> <p>用于预检请求，将实际请求中所携带的头信息告诉服务器</p></li></ol> <h2 id="headers"><a href="#headers" class="header-anchor">#</a> Headers</h2> <p>消息头允许客户端和服务器通过<strong>request</strong>和<strong>response</strong>传递附加信息。一个请求头由名称（不区分大小写）后跟一个冒号：，冒号后跟具体值（不支持换行符）组成。</p> <p>自定义专用请求头可通过‘X-’前缀来添加</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/HTTP/https.html">
        HTTPS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2720869f.js" defer></script><script src="/assets/js/2.3de34db3.js" defer></script><script src="/assets/js/8.1a2b92c2.js" defer></script>
  </body>
</html>
